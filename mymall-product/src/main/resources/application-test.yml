
druid:
  db1:
    filters: stat,wall #合并sql
    url: jdbc:mysql://127.0.0.1:3306/test
    username: root
    password: test1234
    driver-class-name: com.mysql.jdbc.Driver
    initialSize: 0 #初始建立物理连接的数量
    minIdle: 5 #最小连接数
    maxActive: 20 #最大连接数
    maxWait: 30000 #获取连接最大等待时间
    poolPreparedStatements: false #是否缓存preparedStatement，也就是PSCache。PSCache对支持游标的数据库性能提升巨大，比如说oracle。在mysql下建议关闭。
    maxPoolPreparedStatementPerConnectionSize: -1 #要启用PSCache，必须配置大于0，当大于0时，poolPreparedStatements自动触发修改为true。在Druid中，不会存在Oracle下PSCache占用内存过多的问题，可以把这个数值配置大一些，比如说100
    validationQuery: select 'x' #用来检测连接是否有效的sql，要求是一个查询语句，常用select 'x'。如果validationQuery为null，testOnBorrow、testOnReturn、testWhileIdle都不会起作用。
    validationQueryTimeout: 3 #单位：秒，检测连接是否有效的超时时间。底层调用jdbc Statement对象的void setQueryTimeout(int seconds)方法
    testOnBorrow: true #申请连接时执行validationQuery检测连接是否有效，做了这个配置会降低性能。
    testOnReturn: false #归还连接时执行validationQuery检测连接是否有效，做了这个配置会降低性能。
    testWhileIdle: true #建议配置为true，不影响性能，并且保证安全性。申请连接的时候检测，如果空闲时间大于timeBetweenEvictionRunsMillis，执行validationQuery检测连接是否有效。
    keepAlive: false #连接池中的minIdle数量以内的连接，空闲时间超过minEvictableIdleTimeMillis，则会执行keepAlive操作。
  db2:
    filters: stat,wall #合并sql
    url: jdbc:mysql://127.0.0.1:3306/test2?useUnicode=true&characterEncoding=UTF8&serverTimezone=UTC
    username: root
    password: test1234
    driver-class-name: com.mysql.jdbc.Driver
    initialSize: 0 #初始建立物理连接的数量
    minIdle: 5 #最小连接数
    maxActive: 20 #最大连接数
    maxWait: 30000 #获取连接最大等待时间
    poolPreparedStatements: false #是否缓存preparedStatement，也就是PSCache。PSCache对支持游标的数据库性能提升巨大，比如说oracle。在mysql下建议关闭。
    maxPoolPreparedStatementPerConnectionSize: -1 #要启用PSCache，必须配置大于0，当大于0时，poolPreparedStatements自动触发修改为true。在Druid中，不会存在Oracle下PSCache占用内存过多的问题，可以把这个数值配置大一些，比如说100
    validationQuery: select 'x' #用来检测连接是否有效的sql，要求是一个查询语句，常用select 'x'。如果validationQuery为null，testOnBorrow、testOnReturn、testWhileIdle都不会起作用。
    validationQueryTimeout: 3 #单位：秒，检测连接是否有效的超时时间。底层调用jdbc Statement对象的void setQueryTimeout(int seconds)方法
    testOnBorrow: true #申请连接时执行validationQuery检测连接是否有效，做了这个配置会降低性能。
    testOnReturn: false #归还连接时执行validationQuery检测连接是否有效，做了这个配置会降低性能。
    testWhileIdle: true #建议配置为true，不影响性能，并且保证安全性。申请连接的时候检测，如果空闲时间大于timeBetweenEvictionRunsMillis，执行validationQuery检测连接是否有效。
    keepAlive: false #连接池中的minIdle数量以内的连接，空闲时间超过minEvictableIdleTimeMillis，则会执行keepAlive操作。

logging:
  config: classpath:logs/logback-dev.xml

spring:
  rabbitmq:
    listener:
      type: simple
      simple:
        retry:
          enabled: true
    host: 127.0.0.1
    port: 5672
    username: root
    password: test1234
    virtual-host: /
    connection-timeout: 0
  redis:
    lettuce:
      pool:
        max-active: 20
        max-idle: 10
        max-wait: 3000ms
        min-idle: 0
      host: 127.0.0.1
      port: 6379
      password: test1234
  cache:
    type: redis
    redis:
      time-to-live: 12h
